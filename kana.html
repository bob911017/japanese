<!DOCTYPE html>
<html>
<head>
	<title>五十音</title>
	<link rel="icon" href="oruyanke.png" type="image/x-icon">
</head>

<style>
div.tableTile{
    background:#3C3C3C;
    color:white;
	font-size:20px;
    font-weight:bold;
    padding:10px;
    width:480px;
}
table,th,td {
  border: 1px solid black;
  text-align:center;
  font-weight:bold;
}
table{
	width:500px;
	background:#D0D0D0;
}
tr{height:40px;}

td.lead{background:black;color:white;}
div.Q{
    width: 135px;
    height: 135px;
    background: #ACD6FF;
    text-align: center;
    font-size: 100px;
    border: 7px solid #000079;
	margin-bottom: 5px;
    border-radius: 20px;
}

input.change{
    height: 42px;
    font-size: 15px;
    font-weight: bold;
    margin: 0 0 15px 7px;
    background: #FFF0AC;
    border-radius: 10px;
    cursor: pointer;
}

</style>

<script>
var answer=['a','i','u','e','o','ka','ki','ku','ke','ko','sa','si','su','se','so','ta','ti','tu','te','to','na','ni','nu','ne','no','ha','hi','hu','he','ho','ma','mi','mu','me','mo','ya','yu','yo','ra','ri','ru','re','ro','wa','wo','n'];
var hiragana=['あ','い','う','え','お','か','き','く','け','こ','さ','し','す','せ','そ','た','ち','つ','て','と','な','に','ぬ','ね','の','は','ひ','ふ','へ','ほ','ま','み','む','め','も','や','ゆ','よ','ら','り','る','れ','ろ','わ','を','ん'];
var katakana=['ア','イ','ウ','エ','オ','カ','キ','ク','ケ','コ','サ','シ','ス','セ','ソ','タ','チ','ツ','テ','ト','ナ','ニ','ヌ','ネ','ノ','ハ','ヒ','フ','ヘ','ホ','マ','ミ','ム','メ','モ','ヤ','ユ','ヨ','ラ','リ','ル','レ','ロ','ワ','ヲ','ン'];
var question;
var total;
var correctCount;

function testChange(){
	if (document.getElementById('Qtype').value=='平假名 (ひらがな)'){
		document.getElementById('Qtype').value='片假名 (カタカナ)';
		document.getElementById('Qtype').style.background='#FFCBB3';
		question=katakana;
	}else{
		document.getElementById('Qtype').value='平假名 (ひらがな)';
		document.getElementById('Qtype').style.background='#FFF0AC';
		question=hiragana;
	}	
	check();
}

function check(){
	if (document.getElementById('A').value!=''){
		var newRow=document.getElementById('testSheet').insertRow(1);
		newRow.insertCell(0).innerHTML=document.getElementById('Q').innerHTML;	
		var correctAns=answer[question.indexOf(document.getElementById('Q').innerHTML)];
		newRow.insertCell(1).innerHTML=correctAns;
		var myInput=document.getElementById('A').value;
		newRow.insertCell(2).innerHTML=myInput;
		
		total=parseInt(document.getElementById('total').innerHTML)+1;
		document.getElementById('total').innerHTML=total;
		if (correctAns!=myInput){
			document.getElementById('testSheet').getElementsByTagName('td')[5].style.color='red';
		}else{
			correctCount=parseInt(document.getElementById('correctCount').innerHTML)+1;
			document.getElementById('correctCount').innerHTML=correctCount;
		}
		document.getElementById('ratio').innerHTML=(100*correctCount/total).toFixed(2)+'%';
	}

	var rand=Math.floor(46*Math.random());
	document.getElementById('Q').innerHTML=question[rand];
	document.getElementById('A').value='';
}

document.addEventListener('keydown',function(e){	
    //document.getElementById('test').innerHTML=e.keyCode.toString();
	if (e.keyCode == 13) {
		check();		
	};
	if (e.keyCode == 32) {
		testChange();
	};
});

</script>

<body onload='testChange()'>
<div class='tableTile'>平假名 (ひらがな)</div>
<table>
	<tr style="background:black;color:white;">
	<td></td><td>a 段</td><td>i 段</td><td>u 段</td><td>e 段</td><td>o 段</td>
	<tr>
	<td class='lead'>a 行</td><td>あ</td><td>い</td><td>う</td><td>え</td><td>お</td>
	<tr>
	<td class='lead'>ka 行</td><td>か</td><td>き</td><td>く</td><td>け</td><td>こ</td>
	<tr>
	<td class='lead'>sa 行</td><td>さ</td><td>し</td><td>す</td><td>せ</td><td>そ</td>
	<tr>
	<td class='lead'>ta 行</td><td>た</td><td>ち</td><td>つ</td><td>て</td><td>と</td>
	<tr>
	<td class='lead'>na 行</td><td>な</td><td>に</td><td>ぬ</td><td>ね</td><td>の</td>
	<tr>
	<td class='lead'>ha 行</td><td>は</td><td>ひ</td><td>ふ</td><td>へ</td><td>ほ</td>
	<tr>
	<td class='lead'>ma 行</td><td>ま</td><td>み</td><td>む</td><td>め</td><td>も</td>
	<tr>
	<td class='lead'>ya 行</td><td>や</td><td></td><td>ゆ</td><td></td><td>よ</td>
	<tr>
	<td class='lead'>ra 行</td><td>ら</td><td>り</td><td>る</td><td>れ</td><td>ろ</td>
	<tr>
	<td class='lead'>wa 行</td><td>わ</td><td></td><td></td><td></td><td>を</td>
	<tr>
	<td class='lead'>n 行</td><td>ん</td>
</table>
<br><br>


<div class='tableTile'>片假名 (カタカナ)</div>
<table>
	<tr style="background:black;color:white;">
	<td></td><td>a 段</td><td>i 段</td><td>u 段</td><td>e 段</td><td>o 段</td>
	<tr>
	<td class='lead'>a 行</td><td>ア</td><td>イ</td><td>ウ</td><td>エ</td><td>オ</td>
	<tr>
	<td class='lead'>ka 行</td><td>カ</td><td>キ</td><td>ク</td><td>ケ</td><td>コ</td>
	<tr>
	<td class='lead'>sa 行</td><td>サ</td><td>シ</td><td>ス</td><td>セ</td><td>ソ</td>
	<tr>
	<td class='lead'>ta 行</td><td>タ</td><td>チ</td><td>ツ</td><td>テ</td><td>ト</td>
	<tr>
	<td class='lead'>na 行</td><td>ナ</td><td>ニ</td><td>ヌ</td><td>ネ</td><td>ノ</td>
	<tr>
	<td class='lead'>ha 行</td><td>ハ</td><td>ヒ</td><td>フ</td><td>ヘ</td><td>ホ</td>
	<tr>
	<td class='lead'>ma 行</td><td>マ</td><td>ミ</td><td>ム</td><td>メ</td><td>モ</td>
	<tr>
	<td class='lead'>ya 行</td><td>ヤ</td><td></td><td>ユ</td><td></td><td>ヨ</td>
	<tr>
	<td class='lead'>ra 行</td><td>ラ</td><td>リ</td><td>ル</td><td>レ</td><td>ロ</td>
	<tr>
	<td class='lead'>wa 行</td><td>ワ</td><td></td><td></td><td></td><td>ヲ</td>
	<tr>
	<td class='lead'>n 行</td><td>ン</td>
</table>
<br><br>

<div style='float:left;'>
<input id='Qtype' class='change'type=button value='片假名 (カタカナ)' onclick='testChange()'>
<div id='Q' class='Q'></div>
<input id='A' type=text size=10 maxlength=2 style="min-height:25px;text-align: center;text-transform: lowercase;">
<input type=button value='OK！' onclick='check()' style="height:33px;">
</div>


<div style='margin-left:180px;width:520px;height:260px;overflow-y:scroll;'>
<div style='float:left;margin-bottom:2px;'>答題數 : </div>
<div id='correctCount' style='float:left;margin-left:10px;'>0</div>
<div style='float:left;'>/</div>
<div id='total' style='float:left;margin-right:40px;'>0</div>
<div style='float:left;'>正確率 : </div>
<div id='ratio' style='float:left;margin-left:10px;'>0%</div>
<table id='testSheet' style="font-size: 20px;">
	<tr  style="background:black;color:white;">
	<td>題目</td><td>正解</td><td>輸入</td>
</table>
</div>

</body>

</html>